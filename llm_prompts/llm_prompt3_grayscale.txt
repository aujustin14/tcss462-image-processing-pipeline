You are generating AWS Lambda source code using Java 21. 
Produce only the source code file, no explanations.

Write a single Java class file implementing an AWS Lambda handler that converts an image stored in Amazon S3 to grayscale. This is stage 3 of a 3-stage image processing pipeline.

===========================
STRICT REQUIREMENTS
===========================

1. LANGUAGE:
   - Java 21.

2. HANDLER SIGNATURE:
   Implement:
   com.amazonaws.services.lambda.runtime.RequestHandler<Map<String,Object>, Map<String,Object>>

3. INPUT EVENT FORMAT (MUST be followed exactly):
   The Lambda event MUST be a Map<String,Object> containing:
     - "bucket" : String  (S3 bucket name)
     - "key"    : String  (S3 key of the input image)

4. PROCESSING STEPS:
   - Create an S3Client using AWS SDK v2 (software.amazon.awssdk.services.s3.S3Client)
   - Download the image bytes from S3
   - Convert bytes to BufferedImage using javax.imageio.ImageIO
   - Convert the image to full grayscale using only:
       * BufferedImage
       * java.awt.image.ColorConvertOp
       * java.awt.color.ColorSpace
     No external image libraries allowed.
   - Store the processed image entirely in memory

5. OUTPUT STORAGE:
   - Upload the grayscale image back to the SAME S3 bucket
   - Output key MUST be:
       "grayscale/" + originalKey

6. RETURN VALUE (MUST follow exactly):
   Return a Map<String,Object>:
     - "bucket" : <same bucket>
     - "key"    : <new grayscale key>
     - "status" : "success"

7. RESTRICTIONS:
   - Do NOT use /tmp
   - Do NOT change the image format (preserve original type)
   - Do NOT use external libraries
   - Do NOT hardcode bucket or region
   - Do NOT include explanations or comments except minimal syntax-required ones
   - Code MUST compile without modification

8. OUTPUT FORMAT:
   The answer MUST follow this structure:
   === grayscale.java ===
   <entire Java class here>

   Do not include any additional text or explanation.